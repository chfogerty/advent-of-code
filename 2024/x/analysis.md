Run the program on the input. `structure` will throw an exception. Dig through the input to figure out what swaps are needed. Make the swap. Do this 4 times and you'll have a correct adder.
